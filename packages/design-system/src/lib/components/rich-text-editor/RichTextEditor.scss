@use 'sass:color';
@import 'src/lib/assets/styles/design-tokens/colors.module';

.rich-text-editor-wrapper {
  display: flex;
  flex-direction: column;
  padding-top: 0.5rem;
  border: solid 1px $dv-border-color;
  border-radius: 6px;

  &:focus,
  &:focus-within {
    border-color: color.adjust($dv-primary-color, $alpha: -0.4);
    outline: 0;
    box-shadow: 0 0 0 0.25rem color.adjust($dv-primary-color, $alpha: -0.75);
  }

  .editor-content-wrapper {
    display: flex;
    flex: 1;
    flex-direction: column;

    .rich-text-editor-content {
      flex: 1;
      min-height: 200px;
      max-height: 350px;
      margin: 0.5rem;
      padding: 6px 12px;
      overflow-y: auto;
      border: solid 1px $dv-border-color;
      border-radius: 4px;
      resize: vertical;

      &[style*='height'] {
        max-height: unset;
      }

      &.ProseMirror-focused {
        border-color: color.adjust($dv-primary-color, $alpha: -0.4);
        outline: 0;
        box-shadow: 0 0 0 0.25rem color.adjust($dv-primary-color, $alpha: -0.75);
      }

      p.is-editor-empty:first-child::before {
        float: left;
        height: 0;
        color: #adb5bd;
        content: attr(data-placeholder);
        pointer-events: none;
      }
    }
  }

  &.invalid {
    border-color: $dv-danger-color;

    &:focus-within,
    &:focus {
      border-color: color.adjust($dv-danger-color, $alpha: -0.4);
      outline: 0;
      box-shadow: 0 0 0 0.25rem color.adjust($dv-danger-color, $alpha: -0.7);
    }

    .editor-content-wrapper .rich-text-editor-content {
      border-color: $dv-danger-color;

      &.ProseMirror-focused {
        border-color: color.adjust($dv-danger-color, $alpha: -0.4);
        outline: 0;
        box-shadow: 0 0 0 0.25rem color.adjust($dv-danger-color, $alpha: -0.9);
      }
    }
  }
}
