@use 'sass:color';
@import 'node_modules/@iqss/dataverse-design-system/src/lib/assets/styles/design-tokens/colors.module';

.featured_items {
  $arrowSize: 40px;
  $arrowMarginX: 0.5rem;

  display: flex;
  flex-direction: column;
  gap: 1rem;

  h4 {
    margin: 0;

    @media screen and (min-width: 768px) {
      // padding-left: calc($arrowSize + $arrowMarginX * 2);
    }
  }

  .slider-container {
    position: relative;
    display: flex;
    align-items: center;

    // padding-block: 2rem;

    // This is just a small gradient for mobile to let the user know there is more content and avoid cutting a card so roughly
    &::after {
      position: absolute;
      top: 0;
      right: 0;
      width: 40px;
      height: 100%;
      background-image: linear-gradient(to right, transparent, white 50%);
      transform: translateX(5px);
      content: '';

      @media screen and (min-width: 768px) {
        display: none;
      }
    }

    .slider {
      display: flex;
      gap: 1.5rem;
      width: 100%;
      height: 100%;
      padding: 0.25rem;
      overflow-x: scroll;
      scroll-snap-type: x mandatory;
      scroll-behavior: smooth;
      container-type: inline-size;
      container-name: slider;

      &::-webkit-scrollbar {
        display: none;
      }

      .slider-item {
        scroll-snap-align: start;
        min-width: 280px;
        max-width: 280px;

        @container slider (min-width: 800px) {
          flex: 0 0 calc(33.3% - 1rem);
          min-width: unset;
          max-width: unset;
        }

        @container slider (min-width: 1100px) {
          flex: 0 0 calc(25% - 1.125rem);
          min-width: unset;
          max-width: unset;
        }
      }
    }

    .slider-arrow {
      position: relative;
      z-index: 3;
      display: none;
      width: $arrowSize;
      height: $arrowSize;
      border-radius: 50%;
      transform: translateY(-50%);
      margin-inline: $arrowMarginX;

      @media screen and (min-width: 768px) {
        display: flex;
        align-items: center;
        justify-content: center;
      }
    }
  }
}
